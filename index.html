<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ปฏิทินการดำเนินงาน กองการศึกษา</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Noto Sans Thai -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans Thai', sans-serif;
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #e2e8f0;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #cbd5e1;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons Components (SVG) ---
        const ChevronLeft = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m15 18-6-6 6-6"/></svg>
        );
        const ChevronRight = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>
        );
        const CalendarIcon = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>
        );
        const Info = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
        );
        const MapPin = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
        );
        const Trophy = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>
        );
        const BookOpen = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
        );
        const Utensils = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>
        );
        const Star = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        );
        const Flag = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" x2="4" y1="22" y2="15"/></svg>
        );

        // --- Constants & Themes ---
        const thaiMonths = [
            "มกราคม", "กุมภาพันธ์", "มีนาคม", "เมษายน", "พฤษภาคม", "มิถุนายน",
            "กรกฎาคม", "สิงหาคม", "กันยายน", "ตุลาคม", "พฤศจิกายน", "ธันวาคม"
        ];

        const thaiDays = ["อา", "จ", "อ", "พ", "พฤ", "ศ", "ส"];

        const monthThemes = [
            { name: 'Jan', bg: 'bg-rose-200', text: 'text-rose-800', border: 'border-rose-300', softBg: 'bg-rose-50', accent: 'text-rose-600' },
            { name: 'Feb', bg: 'bg-pink-200', text: 'text-pink-800', border: 'border-pink-300', softBg: 'bg-pink-50', accent: 'text-pink-600' },
            { name: 'Mar', bg: 'bg-sky-200', text: 'text-sky-800', border: 'border-sky-300', softBg: 'bg-sky-50', accent: 'text-sky-600' },
            { name: 'Apr', bg: 'bg-orange-200', text: 'text-orange-800', border: 'border-orange-300', softBg: 'bg-orange-50', accent: 'text-orange-600' },
            { name: 'May', bg: 'bg-emerald-200', text: 'text-emerald-800', border: 'border-emerald-300', softBg: 'bg-emerald-50', accent: 'text-emerald-600' },
            { name: 'Jun', bg: 'bg-violet-200', text: 'text-violet-800', border: 'border-violet-300', softBg: 'bg-violet-50', accent: 'text-violet-600' },
            { name: 'Jul', bg: 'bg-amber-200', text: 'text-amber-800', border: 'border-amber-300', softBg: 'bg-amber-50', accent: 'text-amber-600' },
            { name: 'Aug', bg: 'bg-blue-200', text: 'text-blue-800', border: 'border-blue-300', softBg: 'bg-blue-50', accent: 'text-blue-600' },
            { name: 'Sep', bg: 'bg-teal-200', text: 'text-teal-800', border: 'border-teal-300', softBg: 'bg-teal-50', accent: 'text-teal-600' },
            { name: 'Oct', bg: 'bg-indigo-200', text: 'text-indigo-800', border: 'border-indigo-300', softBg: 'bg-indigo-50', accent: 'text-indigo-600' },
            { name: 'Nov', bg: 'bg-lime-200', text: 'text-lime-800', border: 'border-lime-300', softBg: 'bg-lime-50', accent: 'text-lime-600' },
            { name: 'Dec', bg: 'bg-cyan-200', text: 'text-cyan-800', border: 'border-cyan-300', softBg: 'bg-cyan-50', accent: 'text-cyan-600' },
        ];

        // --- Helper Functions ---
        const toThaiYear = (date) => date.getFullYear() + 543;

        const isWeekend = (date) => {
            const day = date.getDay();
            return day === 0 || day === 6;
        };

        const isSameDay = (d1, d2) => {
            return d1.getFullYear() === d2.getFullYear() &&
                   d1.getMonth() === d2.getMonth() &&
                   d1.getDate() === d2.getDate();
        };

        const getFirstFriday = (year, month) => {
            const date = new Date(year, month, 1);
            while (date.getDay() !== 5) {
                date.setDate(date.getDate() + 1);
            }
            return date;
        };

        const generateEvents = () => {
            const events = [];

            // --- Public Holidays (FY 2026) ---
            const holidays = [
                { d: 13, m: 9, y: 2025, t: 'วันนวมินทรมหาราช' },
                { d: 23, m: 9, y: 2025, t: 'วันปิยมหาราช' },
                { d: 5, m: 11, y: 2025, t: 'วันพ่อแห่งชาติ' },
                { d: 10, m: 11, y: 2025, t: 'วันรัฐธรรมนูญ' },
                { d: 31, m: 11, y: 2025, t: 'วันสิ้นปี' },
                { d: 1, m: 0, y: 2026, t: 'วันขึ้นปีใหม่' },
                { d: 3, m: 2, y: 2026, t: 'วันมาฆบูชา (ประมาณการ)' },
                { d: 6, m: 3, y: 2026, t: 'วันจักรี' },
                { d: 13, m: 3, y: 2026, t: 'วันสงกรานต์' },
                { d: 14, m: 3, y: 2026, t: 'วันสงกรานต์' },
                { d: 15, m: 3, y: 2026, t: 'วันสงกรานต์' },
                { d: 1, m: 4, y: 2026, t: 'วันแรงงานแห่งชาติ' },
                { d: 4, m: 4, y: 2026, t: 'วันฉัตรมงคล' },
                { d: 31, m: 4, y: 2026, t: 'วันวิสาขบูชา (ประมาณการ)' },
                { d: 3, m: 5, y: 2026, t: 'วันเฉลิมฯ พระราชินี' },
                { d: 28, m: 6, y: 2026, t: 'วันเฉลิมฯ ร.10' },
                { d: 29, m: 6, y: 2026, t: 'วันอาสาฬหบูชา (ประมาณการ)' },
                { d: 30, m: 6, y: 2026, t: 'วันเข้าพรรษา (ประมาณการ)' },
                { d: 12, m: 7, y: 2026, t: 'วันแม่แห่งชาติ' },
            ];

            holidays.forEach((h, i) => {
                events.push({
                    id: `holiday-${i}`,
                    title: h.t,
                    type: 'holiday',
                    startDate: new Date(h.y, h.m, h.d),
                    endDate: new Date(h.y, h.m, h.d)
                });
            });

            // --- Activities ---
            events.push({
                id: 'visit-1',
                title: 'ตรวจเยี่ยมความพร้อม (เทอม 2)',
                type: 'visit',
                startDate: new Date(2025, 9, 15),
                endDate: new Date(2025, 9, 31),
                excludeWeekends: true,
                excludeHolidays: true
            });
            events.push({
                id: 'visit-2',
                title: 'ตรวจเยี่ยมความพร้อม (เทอม 1)',
                type: 'visit',
                startDate: new Date(2026, 4, 1),
                endDate: new Date(2026, 4, 15),
                excludeWeekends: true,
                excludeHolidays: true
            });

            events.push({
                id: 'sar',
                title: 'สังเคราะห์ SAR',
                type: 'sar',
                startDate: new Date(2026, 5, 1),
                endDate: new Date(2026, 5, 30),
                excludeWeekends: true,
                excludeHolidays: true
            });

            const fyStart = new Date(2025, 9, 1);
            const fyEnd = new Date(2026, 8, 30);
            let current = new Date(fyStart);
            while (current <= fyEnd) {
                let targetDate = getFirstFriday(current.getFullYear(), current.getMonth());
                events.push({
                    id: `nutrition-${current.getMonth()}-${current.getFullYear()}`,
                    title: 'โภชนาการในสถานศึกษา',
                    type: 'nutrition',
                    startDate: targetDate,
                    endDate: targetDate,
                    recurring: 'monthly',
                    excludeHolidays: true
                });
                current.setMonth(current.getMonth() + 1);
            }

            events.push({
                id: 'loy-krathong',
                title: 'วันลอยกระทง',
                type: 'culture',
                startDate: new Date(2025, 10, 5),
                endDate: new Date(2025, 10, 5)
            });
            events.push({
                id: 'internal-sports',
                title: 'กีฬาทต.หัวดง',
                type: 'sport',
                startDate: new Date(2025, 11, 12),
                endDate: new Date(2025, 11, 12)
            });
            events.push({
                id: 'laplae-sports',
                title: 'กีฬา อปท. ลับแลสัมพันธ์',
                type: 'sport',
                startDate: new Date(2026, 2, 20),
                endDate: new Date(2026, 2, 31)
            });
            events.push({
                id: 'songkran-event',
                title: 'งานสืบสานประเพณีสงกรานต์',
                type: 'culture',
                startDate: new Date(2026, 3, 13),
                endDate: new Date(2026, 3, 13)
            });
            events.push({
                id: 'maephun-sports',
                title: 'กีฬาต.แม่พูล',
                type: 'sport',
                startDate: new Date(2026, 3, 20),
                endDate: new Date(2026, 3, 30)
            });

            return events;
        };

        const getTypeColor = (type) => {
            switch (type) {
                case 'visit': return 'bg-blue-100 text-blue-700 border-blue-200';
                case 'sar': return 'bg-purple-100 text-purple-700 border-purple-200';
                case 'nutrition': return 'bg-green-100 text-green-700 border-green-200';
                case 'culture': return 'bg-orange-100 text-orange-700 border-orange-200';
                case 'sport': return 'bg-red-100 text-red-700 border-red-200';
                case 'holiday': return 'bg-rose-100 text-rose-600 border-rose-200 font-semibold';
                default: return 'bg-gray-100 text-gray-700';
            }
        };

        const getTypeIcon = (type) => {
            const cls = "w-4 h-4";
            switch (type) {
                case 'visit': return <MapPin className={cls} />;
                case 'sar': return <BookOpen className={cls} />;
                case 'nutrition': return <Utensils className={cls} />;
                case 'culture': return <Star className={cls} />;
                case 'sport': return <Trophy className={cls} />;
                case 'holiday': return <Flag className={cls} />;
                default: return <Info className={cls} />;
            }
        };

        function EducationCalendar() {
            const [currentDate, setCurrentDate] = useState(new Date(2025, 9, 1));
            const [selectedDate, setSelectedDate] = useState(null);
            const [events, setEvents] = useState([]);

            useEffect(() => {
                setEvents(generateEvents());
            }, []);

            const theme = monthThemes[currentDate.getMonth()];

            const prevMonth = () => {
                setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1));
                setSelectedDate(null);
            };

            const nextMonth = () => {
                setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 1));
                setSelectedDate(null);
            };

            const getDaysInMonth = (date) => {
                const year = date.getFullYear();
                const month = date.getMonth();
                const days = new Date(year, month + 1, 0).getDate();
                const firstDay = new Date(year, month, 1).getDay();
                const daysArray = [];
                for (let i = 0; i < firstDay; i++) daysArray.push(null);
                for (let i = 1; i <= days; i++) daysArray.push(new Date(year, month, i));
                return daysArray;
            };

            const days = getDaysInMonth(currentDate);

            const getEventsForDay = (date) => {
                // 1. Find all events spanning this date
                const dayEvents = events.filter(e => date >= e.startDate && date <= e.endDate);

                // 2. Check exclusions
                const isHolidayToday = dayEvents.some(e => e.type === 'holiday');
                const isWeekendToday = isWeekend(date);

                return dayEvents.filter(e => {
                    if (e.excludeWeekends && isWeekendToday) return false;
                    if (e.excludeHolidays && isHolidayToday) return false;
                    return true;
                }).sort((a, b) => {
                    if (a.type === 'holiday' && b.type !== 'holiday') return -1;
                    if (a.type !== 'holiday' && b.type === 'holiday') return 1;
                    return 0;
                });
            };

            const currentMonthEvents = events.filter(e => {
                const monthStart = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
                const monthEnd = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
                return (e.startDate <= monthEnd && e.endDate >= monthStart);
            }).sort((a, b) => a.startDate.getTime() - b.startDate.getTime());

            return (
                <div className={`min-h-screen ${theme.softBg} transition-colors duration-500 p-4 font-sans text-slate-800`}>
                    <div className="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6">
                        
                        {/* Header */}
                        <div className={`lg:col-span-3 ${theme.bg} rounded-3xl shadow-sm p-6 flex flex-col md:flex-row justify-between items-center border-b-4 ${theme.border} transition-colors duration-500`}>
                            <div className="mb-4 md:mb-0">
                                <h1 className={`text-2xl font-bold ${theme.text} flex items-center gap-2`}>
                                    <CalendarIcon className="w-8 h-8 opacity-80" />
                                    แผนการดำเนินงาน กองการศึกษา
                                </h1>
                                <p className={`${theme.text} opacity-80 mt-1 font-medium`}>
                                    เทศบาลตำบลหัวดง ประจำปีงบประมาณ 2569
                                </p>
                            </div>
                            
                            <div className="flex items-center gap-4 bg-white/40 p-2 rounded-xl backdrop-blur-sm">
                                <button onClick={prevMonth} className={`p-2 hover:bg-white/60 rounded-full transition-colors ${theme.text}`}>
                                    <ChevronLeft className="w-6 h-6" />
                                </button>
                                <span className={`text-xl font-bold w-48 text-center ${theme.text}`}>
                                    {thaiMonths[currentDate.getMonth()]} {toThaiYear(currentDate)}
                                </span>
                                <button onClick={nextMonth} className={`p-2 hover:bg-white/60 rounded-full transition-colors ${theme.text}`}>
                                    <ChevronRight className="w-6 h-6" />
                                </button>
                            </div>
                        </div>

                        {/* Calendar Grid */}
                        <div className="lg:col-span-2 bg-white rounded-3xl shadow-sm p-6 border border-white/50">
                            <div className="grid grid-cols-7 mb-4 text-center">
                                {thaiDays.map((day, index) => (
                                    <div key={day} className={`font-bold text-lg ${index === 0 || index === 6 ? 'text-red-500' : 'text-slate-400'}`}>
                                        {day}
                                    </div>
                                ))}
                            </div>

                            <div className="grid grid-cols-7 gap-2">
                                {days.map((date, idx) => {
                                    if (!date) return <div key={`empty-${idx}`} className="h-24 md:h-32"></div>;

                                    const dayEvents = getEventsForDay(date);
                                    const isToday = isSameDay(new Date(), date);
                                    const isSelected = selectedDate && isSameDay(selectedDate, date);
                                    const isHoliday = dayEvents.some(e => e.type === 'holiday');
                                    const dayOfWeek = date.getDay(); // 0 = Sunday, 6 = Saturday

                                    let bgClass = "bg-white"; 
                                    
                                    // กำหนดสีพื้นหลังตามวัน (ปรับให้เข้มขึ้นเล็กน้อยเพื่อให้เห็นชัดเจน)
                                    if (dayOfWeek === 6) { 
                                        bgClass = "bg-[#F3E1F6]"; // วันเสาร์
                                    } else if (dayOfWeek === 0) {
                                        bgClass = "bg-[#FFD6D6]"; // วันอาทิตย์
                                    }

                                    // วันหยุดนักขัตฤกษ์
                                    if (isHoliday) {
                                        bgClass = "bg-[#FFFFAA]"; 
                                    }

                                    if (isSelected) {
                                        bgClass = `${theme.bg}`;
                                    }

                                    return (
                                        <div 
                                            key={date.toISOString()}
                                            onClick={() => setSelectedDate(date)}
                                            className={`
                                                relative h-24 md:h-32 p-2 rounded-2xl border transition-all cursor-pointer overflow-hidden group
                                                ${bgClass}
                                                ${isSelected 
                                                    ? `ring-2 ${theme.border}` 
                                                    : `border-slate-100 hover:${theme.border} hover:shadow-md`
                                                }
                                            `}
                                        >
                                            <div className={`
                                                text-sm font-semibold mb-1 w-7 h-7 flex items-center justify-center rounded-full transition-colors
                                                ${isToday ? `${theme.bg} ${theme.text} shadow-sm` : ''}
                                                ${(dayOfWeek === 0 || dayOfWeek === 6 || isHoliday) && !isToday ? 'text-slate-700 font-bold' : 'text-slate-600'}
                                            `}>
                                                {date.getDate()}
                                            </div>

                                            <div className="flex flex-col gap-1">
                                                {dayEvents.slice(0, 3).map((ev, i) => (
                                                    <div 
                                                        key={i} 
                                                        className={`text-[10px] px-2 py-0.5 rounded-md truncate font-medium ${getTypeColor(ev.type)} shadow-sm bg-white/80`}
                                                        title={ev.title}
                                                    >
                                                        {ev.title}
                                                    </div>
                                                ))}
                                                {dayEvents.length > 3 && (
                                                    <div className="text-[10px] text-slate-500 pl-1 font-medium">
                                                        +{dayEvents.length - 3}
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>

                        {/* Sidebar */}
                        <div className="lg:col-span-1 space-y-6">
                            
                            {/* Selected Date Details */}
                            {selectedDate && (
                                <div className="bg-white rounded-3xl shadow-sm p-6 border border-slate-100 relative overflow-hidden">
                                    <div className={`absolute top-0 left-0 w-full h-2 ${theme.bg}`}></div>
                                    <h3 className={`font-bold text-lg ${theme.text} mb-4 flex items-center gap-2`}>
                                        <div className={`${theme.bg} p-2 rounded-xl`}>
                                            {selectedDate.getDate()}
                                        </div>
                                        {thaiMonths[selectedDate.getMonth()]} {toThaiYear(selectedDate)}
                                    </h3>
                                    
                                    <div className="space-y-3">
                                        {getEventsForDay(selectedDate).length > 0 ? (
                                            getEventsForDay(selectedDate).map((ev, i) => (
                                                <div key={i} className={`p-3 rounded-2xl border ${getTypeColor(ev.type)} flex items-start gap-3 shadow-sm`}>
                                                    <div className="mt-1">{getTypeIcon(ev.type)}</div>
                                                    <div>
                                                        <div className="font-semibold text-sm">{ev.title}</div>
                                                        <div className="text-xs opacity-75 mt-0.5">
                                                            {ev.type === 'holiday' ? 'วันหยุดนักขัตฤกษ์' : ev.recurring ? 'กิจกรรมประจำ' : 'กิจกรรมเฉพาะกิจ'}
                                                        </div>
                                                    </div>
                                                </div>
                                            ))
                                        ) : (
                                            <div className="text-center py-8 text-slate-400 text-sm bg-slate-50 rounded-2xl border border-slate-100 border-dashed">
                                                ไม่มีกิจกรรมในวันนี้
                                            </div>
                                        )}
                                    </div>
                                </div>
                            )}

                            {/* Monthly Overview */}
                            <div className="bg-white rounded-3xl shadow-sm p-6 border border-slate-100">
                                <h3 className={`font-bold text-lg text-slate-700 mb-4 border-b pb-2 flex items-center gap-2`}>
                                    <span className={`w-2 h-6 rounded-full ${theme.bg}`}></span>
                                    กิจกรรม {thaiMonths[currentDate.getMonth()]}
                                </h3>
                                
                                <div className={`mb-4 p-3 ${theme.softBg} rounded-2xl border ${theme.border} bg-opacity-50`}>
                                    <div className="flex items-center gap-2 mb-2">
                                        <Info className={`w-4 h-4 ${theme.accent}`} />
                                        <span className={`text-sm font-bold ${theme.accent}`}>ภารกิจตลอดทั้งปี</span>
                                    </div>
                                    <ul className={`text-xs ${theme.text} space-y-1 list-disc list-inside opacity-90 pl-1`}>
                                        <li>นิเทศ ติดตาม การจัดการเรียนการสอน <span className="opacity-75 text-[10px]">(เว้นวันหยุด)</span></li>
                                        <li>นิเทศการสอนบุคลากรครู <span className="opacity-75 text-[10px]">(เว้นวันหยุด)</span></li>
                                    </ul>
                                </div>

                                <div className="space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar">
                                    {currentMonthEvents.length > 0 ? (
                                        currentMonthEvents.map((ev, i) => (
                                            <div key={i} className="flex gap-3 items-start group">
                                                <div className="w-10 text-center pt-1 shrink-0">
                                                    <div className="text-xs font-bold text-slate-400">
                                                        {ev.startDate.getDate()}
                                                    </div>
                                                    <div className="text-[9px] uppercase text-slate-300">
                                                        {thaiDays[ev.startDate.getDay()]}
                                                    </div>
                                                </div>
                                                <div className={`flex-1 p-2.5 rounded-xl border transition-all ${getTypeColor(ev.type)} shadow-sm hover:shadow-md`}>
                                                    <div className="flex items-center gap-2 mb-1">
                                                        {getTypeIcon(ev.type)}
                                                        <span className="text-[10px] font-bold uppercase opacity-70 tracking-wide">
                                                            {ev.type === 'holiday' ? 'วันหยุด' : ev.type.toUpperCase()}
                                                        </span>
                                                    </div>
                                                    <h4 className="text-sm font-semibold leading-snug">
                                                        {ev.title}
                                                    </h4>
                                                </div>
                                            </div>
                                        ))
                                    ) : (
                                        <div className="text-slate-400 text-center text-sm py-8 bg-slate-50 rounded-2xl border border-dashed">
                                            ไม่มีกิจกรรมเพิ่มเติม
                                        </div>
                                    )}
                                </div>
                            </div>

                        </div>
                    </div>
                    
                    {/* Footer Legend */}
                    <div className="max-w-6xl mx-auto mt-6 flex flex-wrap justify-center gap-3">
                        {[
                            { color: 'bg-blue-400', label: 'ตรวจเยี่ยม' },
                            { color: 'bg-purple-400', label: 'วิชาการ' },
                            { color: 'bg-green-400', label: 'โภชนาการ' },
                            { color: 'bg-orange-400', label: 'ประเพณี' },
                            { color: 'bg-red-400', label: 'กีฬา' },
                            { color: 'bg-rose-400', label: 'วันหยุด' },
                        ].map((item, idx) => (
                            <div key={idx} className="bg-white px-3 py-1.5 rounded-full shadow-sm border border-slate-100 flex items-center gap-2 text-xs text-slate-500">
                                <div className={`w-2.5 h-2.5 rounded-full ${item.color}`}></div>
                                {item.label}
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<EducationCalendar />);
    </script>
</body>
</html>
